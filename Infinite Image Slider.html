<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .slider-container {
            width: 100%;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            background-color: #ffffff;
        }

        .slider-wrapper {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            overflow: visible;
            cursor: grab;
            user-select: none;
        }

        .slider-wrapper:active {
            cursor: grabbing;
        }

        .slider-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }

        .slider-track.no-transition {
            transition: none;
        }

        .slide {
            min-width: 100%;
            flex-shrink: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 10px;
        }

        .slide img {
            width: 100%;
            max-width: 500px;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            pointer-events: none;
        }

        .arrow-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.95);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 10;
        }

        .arrow-btn:hover {
            background-color: #ffffff;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            transform: translateY(-50%) scale(1.1);
        }

        .arrow-btn:active {
            transform: translateY(-50%) scale(0.95);
        }

        .arrow-btn.left {
            left: 20px;
        }

        .arrow-btn.right {
            right: 20px;
        }

        .arrow-btn svg {
            width: 24px;
            height: 24px;
            fill: #333;
        }

        .dots-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            margin-top: 30px;
            width: 100%;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #d1d5db;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            padding: 0;
        }

        .dot:hover {
            background-color: #9ca3af;
            transform: scale(1.15);
        }

        .dot.active {
            background-color: #80030D;
            width: 14px;
            height: 14px;
        }

        @media (min-width: 768px) {
            .slide {
                min-width: 33.333%;
            }

            .slide img {
                max-width: 400px;
            }
        }

        @media (max-width: 767px) {
            .slider-container {
                padding: 20px 10px;
            }

            .slide img {
                max-width: 350px;
            }

            .dots-container {
                margin-top: 20px;
                gap: 10px;
            }

            .dot {
                width: 8px;
                height: 8px;
            }

            .dot.active {
                width: 12px;
                height: 12px;
            }

            .arrow-btn {
                width: 40px;
                height: 40px;
            }

            .arrow-btn.left {
                left: 10px;
            }

            .arrow-btn.right {
                right: 10px;
            }

            .arrow-btn svg {
                width: 20px;
                height: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="slider-container">
        <div class="slider-wrapper">
            <div class="slider-track">
                <!-- Slides will be generated by JavaScript -->
            </div>
        </div>
        
        <button class="arrow-btn left" aria-label="Previous slide">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
            </svg>
        </button>
        
        <button class="arrow-btn right" aria-label="Next slide">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
            </svg>
        </button>
        
        <div class="dots-container"></div>
    </div>

    <script>
        class InfiniteSlider {
            constructor() {
                this.track = document.querySelector('.slider-track');
                this.wrapper = document.querySelector('.slider-wrapper');
                this.dotsContainer = document.querySelector('.dots-container');
                this.leftBtn = document.querySelector('.arrow-btn.left');
                this.rightBtn = document.querySelector('.arrow-btn.right');
                
                this.images = [
                    'https://images.clickfunnels.com/1a/0b5574f2464a56b6eba587bc5429f5/N_Alley.png',
                    'https://images.clickfunnels.com/14/81047d04704b1ea672e45fd199f7ce/Jeff_Morgan.png',
                    'https://images.clickfunnels.com/94/9197ac30f442f3ac5a90a548c14901/Review.png',
                    'https://images.clickfunnels.com/ce/7e439b3b07422ba53a570c44624792/Aaron_Nichols.png',
                    'https://images.clickfunnels.com/cd/0a3eed93fe448cbae836755b483003/Atterrest_Chappell.png',
                    'https://images.clickfunnels.com/6a/f742066e314b9391de137ae708d6ba/Review2.png'
                ];
                this.totalSlides = this.images.length;
                
                this.currentIndex = 0;
                this.isDragging = false;
                this.startPos = 0;
                this.currentTranslate = 0;
                this.prevTranslate = 0;
                
                this.isMobile = window.innerWidth < 768;
                this.slidesToShow = this.isMobile ? 1 : 3;
                this.realIndex = this.slidesToShow;
                
                this.autoplayInterval = null;
                this.autoplayDelay = 3000;
                
                this.init();
            }

            init() {
                this.createSlides();
                this.createDots();
                this.addEventListeners();
                this.setPositionByIndex();
                this.updateDots();
                this.startAutoplay();
            }

            createSlides() {
                // Create slides: clone last few + original slides + clone first few
                const slidesHTML = [];
                
                // Clone last slides at the beginning
                for (let i = this.totalSlides - this.slidesToShow; i < this.totalSlides; i++) {
                    slidesHTML.push(this.createSlideHTML(this.images[i]));
                }
                
                // Original slides
                for (let i = 0; i < this.totalSlides; i++) {
                    slidesHTML.push(this.createSlideHTML(this.images[i]));
                }
                
                // Clone first slides at the end
                for (let i = 0; i < this.slidesToShow; i++) {
                    slidesHTML.push(this.createSlideHTML(this.images[i]));
                }
                
                this.track.innerHTML = slidesHTML.join('');
                this.slides = this.track.querySelectorAll('.slide');
            }

            createSlideHTML(imageUrl) {
                return `
                    <div class="slide">
                        <img src="${imageUrl}" alt="Slide image">
                    </div>
                `;
            }

            createDots() {
                for (let i = 0; i < this.totalSlides; i++) {
                    const dot = document.createElement('button');
                    dot.classList.add('dot');
                    dot.addEventListener('click', () => this.goToSlide(i));
                    this.dotsContainer.appendChild(dot);
                }
            }

            addEventListeners() {
                // Arrow buttons
                this.leftBtn.addEventListener('click', () => this.prev());
                this.rightBtn.addEventListener('click', () => this.next());

                // Mouse events
                this.wrapper.addEventListener('mousedown', this.dragStart.bind(this));
                this.wrapper.addEventListener('mousemove', this.drag.bind(this));
                this.wrapper.addEventListener('mouseup', this.dragEnd.bind(this));
                this.wrapper.addEventListener('mouseleave', this.dragEnd.bind(this));

                // Touch events
                this.wrapper.addEventListener('touchstart', this.dragStart.bind(this));
                this.wrapper.addEventListener('touchmove', this.drag.bind(this));
                this.wrapper.addEventListener('touchend', this.dragEnd.bind(this));

                // Window resize
                window.addEventListener('resize', this.handleResize.bind(this));

                // Listen for transition end to handle infinite loop
                this.track.addEventListener('transitionend', this.handleTransitionEnd.bind(this));
            }

            next() {
                this.realIndex++;
                this.setPositionByIndex();
                this.updateDotsFromReal();
                this.resetAutoplay();
            }

            prev() {
                this.realIndex--;
                this.setPositionByIndex();
                this.updateDotsFromReal();
                this.resetAutoplay();
            }

            dragStart(e) {
                this.isDragging = true;
                this.startPos = this.getPositionX(e);
                this.track.classList.add('no-transition');
                this.stopAutoplay();
            }

            drag(e) {
                if (!this.isDragging) return;
                const currentPosition = this.getPositionX(e);
                const diff = currentPosition - this.startPos;
                this.currentTranslate = this.prevTranslate + diff;
                this.track.style.transform = `translateX(${this.currentTranslate}px)`;
            }

            dragEnd() {
                if (!this.isDragging) return;
                this.isDragging = false;
                this.track.classList.remove('no-transition');

                const movedBy = this.currentTranslate - this.prevTranslate;
                const slideWidth = this.wrapper.offsetWidth / this.slidesToShow;

                if (movedBy < -slideWidth / 4) {
                    this.realIndex++;
                } else if (movedBy > slideWidth / 4) {
                    this.realIndex--;
                }

                this.setPositionByIndex();
                this.updateDotsFromReal();
                this.startAutoplay();
            }

            getPositionX(e) {
                return e.type.includes('mouse') ? e.pageX : e.touches[0].clientX;
            }

            setPositionByIndex() {
                const slideWidth = this.wrapper.offsetWidth / this.slidesToShow;
                this.currentTranslate = this.realIndex * -slideWidth;
                this.prevTranslate = this.currentTranslate;
                this.track.style.transform = `translateX(${this.currentTranslate}px)`;
            }

            handleTransitionEnd() {
                const slideWidth = this.wrapper.offsetWidth / this.slidesToShow;
                
                // If we're at or past the cloned slides at the end
                if (this.realIndex >= this.totalSlides + this.slidesToShow) {
                    this.track.classList.add('no-transition');
                    this.realIndex = this.slidesToShow;
                    this.currentTranslate = this.realIndex * -slideWidth;
                    this.prevTranslate = this.currentTranslate;
                    this.track.style.transform = `translateX(${this.currentTranslate}px)`;
                    setTimeout(() => this.track.classList.remove('no-transition'), 50);
                }
                
                // If we're at or before the cloned slides at the start
                if (this.realIndex < this.slidesToShow) {
                    this.track.classList.add('no-transition');
                    this.realIndex = this.totalSlides + (this.slidesToShow - this.realIndex) - this.slidesToShow;
                    this.currentTranslate = this.realIndex * -slideWidth;
                    this.prevTranslate = this.currentTranslate;
                    this.track.style.transform = `translateX(${this.currentTranslate}px)`;
                    setTimeout(() => this.track.classList.remove('no-transition'), 50);
                }
                
                this.updateDotsFromReal();
            }

            goToSlide(index) {
                this.realIndex = index + this.slidesToShow;
                this.setPositionByIndex();
                this.updateDotsFromReal();
                this.resetAutoplay();
            }

            updateDotsFromReal() {
                // Calculate actual slide index from real index
                let actualIndex = this.realIndex - this.slidesToShow;
                
                if (actualIndex < 0) {
                    actualIndex = this.totalSlides + actualIndex;
                } else if (actualIndex >= this.totalSlides) {
                    actualIndex = actualIndex - this.totalSlides;
                }
                
                this.currentIndex = actualIndex;
                this.updateDots();
            }

            updateDots() {
                const dots = this.dotsContainer.querySelectorAll('.dot');
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === this.currentIndex);
                });
            }

            handleResize() {
                const wasMobile = this.isMobile;
                this.isMobile = window.innerWidth < 768;
                
                if (wasMobile !== this.isMobile) {
                    this.slidesToShow = this.isMobile ? 1 : 3;
                    this.track.innerHTML = '';
                    this.createSlides();
                    this.realIndex = this.currentIndex + this.slidesToShow;
                }
                
                this.setPositionByIndex();
            }

            startAutoplay() {
                this.stopAutoplay();
                this.autoplayInterval = setInterval(() => {
                    this.next();
                }, this.autoplayDelay);
            }

            stopAutoplay() {
                if (this.autoplayInterval) {
                    clearInterval(this.autoplayInterval);
                    this.autoplayInterval = null;
                }
            }

            resetAutoplay() {
                this.stopAutoplay();
                this.startAutoplay();
            }
        }

        // Initialize slider when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => new InfiniteSlider());
        } else {
            new InfiniteSlider();
        }
    </script>
</body>
</html>